(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f74e0d62","chunk-29d98cd5"],{1175:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"update-col-def-btn"},[a("el-button",{on:{click:t.updateColDefs}},[t._v("Ẩn/Hiện cột")]),a("modal",{attrs:{show:t.modal.display,headerClasses:"justify-content-center"},on:{"update:show":function(e){t.$set(t.modal,"display",e)}}},[a("h4",{staticClass:"title title-up m-0",attrs:{slot:"header"},slot:"header"},[t._v("Ẩn/Hiện cột")]),a("div",{staticClass:"row"},t._l(t.fieldArrays,function(e){return a("p-checkbox",{key:e.prop,staticClass:"text-left col-md-6",model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"f.active"}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),a("div",{staticClass:"text-right"},[a("p-button",{nativeOn:{click:function(e){t.modal.display=!1}}},[t._v("Hủy bỏ")]),a("p-button",{attrs:{type:"primary"},on:{click:t.resetColDef}},[t._v("Xác nhận")])],1)])],1)},n=[],s=(a("1951"),a("450d"),a("eedf")),l=a.n(s),i=a("1c50"),o={props:["value"],components:{ElButton:l.a,Modal:i["a"]},data:function(){return{modal:{display:!1},fieldArrays:this.value}},methods:{updateColDefs:function(){this.modal.display=!this.modal.display},resetColDef:function(){var t=this.fieldArrays.filter(function(t){return t.active});this.$emit("input",t),this.modal.display=!1}},mounted:function(){this.resetColDef()}},c=o,u=a("2877"),_=Object(u["a"])(c,r,n,!1,null,null,null);_.options.__file="ColumnToggle.vue";e["a"]=_.exports},"20d6":function(t,e,a){"use strict";var r=a("5ca1"),n=a("0a49")(6),s="findIndex",l=!0;s in[]&&Array(1)[s](function(){l=!1}),r(r.P+r.F*l,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},2540:function(t,e,a){},"324d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col-sm-12 mt-2 mb-2"},[t.checkSelect?a("el-dropdown",{staticClass:"dropdown-check-table",style:t.dwStyle},[a("el-button",{style:{width:t.dwStyle.width},attrs:{type:"primary"}},[t._v("\n        ("+t._s(t.checkSelect)+") "+t._s("Chỉnh sửa gallery"==t.pageTitle?"photo":t.pageTitle)+" được chọn"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t.actionsTable&&t.actionsTable.length?a("el-dropdown-menu",{staticClass:"dropdown-status-table",style:{width:t.dwStyle.width},attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.actionsTable,function(e){return a("el-dropdown-item",{on:{click:function(a){e.callback(t.multipleSelection)}}},[a("el-button",{staticClass:"full-width text-left",class:e.color,attrs:{type:"text"},on:{click:function(a){e.callback(t.multipleSelection)}}},[t._v(t._s(e.title))])],1)})):t._e()],1):t._e(),a("el-table",{staticClass:"eye-table",staticStyle:{width:"100%"},attrs:{data:t.queriedData,border:""},on:{"selection-change":t.handleSelectionChange,"sort-change":t.sortChange}},[t.checkAction?a("el-table-column",{attrs:{type:"selection",width:"45",fixed:"left","class-name":"bg-white"}}):t._e(),t._l(t.tableColumns,function(e,r){return a("el-table-column",{key:e.label,attrs:{"min-width":e.minWidth,prop:e.prop,sortable:t.checkSort,label:e.label,fixed:0==r&&"left","class-name":0==r?"bg-white":""},scopedSlots:t._u([{key:"default",fn:function(r){return["image"===e.type?a("span",[e.link?a("router-link",{attrs:{to:e.link+"/"+r.row["id"]}},[a("img",{staticClass:"img-table",attrs:{src:t.host+"/uploads/"+r.row[e.prop]}})]):a("img",{staticClass:"img-table",attrs:{src:t.host+"/uploads/"+r.row[e.prop]}})],1):"number"===e.type?a("span",[e.link?a("router-link",{attrs:{to:e.link+"/"+r.row["id"]}},[t._v("\n               "+t._s(t.formatNumber(r.row[e.prop]))+"\n             ")]):a("span",[t._v(t._s(t.formatNumber(r.row[e.prop])))])],1):"badge"===e.type?a("span",[a("badge",{attrs:{type:t.parseType(r.row[e.prop],e.prop)}},[t._v(t._s(t.parseStatus(r.row[e.prop],e.prop)))])],1):a("span",[e.link?a("router-link",{attrs:{to:e.link+"/"+r.row["id"]}},[t._v("\n               "+t._s(r.row[e.prop])+"\n             ")]):a("span",[t._v(t._s(r.row[e.prop]))])],1)]}}])})}),t.actions&&t.actions.length?a("el-table-column",{attrs:{width:t.width.action,fixed:"right","class-name":"td-actions",label:"Thao tác"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.actions,function(t){return a("p-button",{attrs:{type:t.type,size:"sm",icon:""},on:{click:function(a){t.callback(e.$index,e.row)}}},[a("i",{class:t.icon})])})}}])}):t._e()],2)],1),a("div",{staticClass:"col-sm-4"},[a("el-select",{attrs:{placeholder:"Per page"},model:{value:t.pagination.perPage,callback:function(e){t.$set(t.pagination,"perPage",e)},expression:"pagination.perPage"}},t._l(t.pagination.perPageOptions,function(t){return a("el-option",{key:t,staticClass:"select-default",attrs:{label:t+" nội dung/trang",value:t}})}))],1),a("div",{staticClass:"col-sm-4 pagination-info"},[a("p",{staticClass:"text-entries text-center"},[t._v("Từ #"+t._s(t.from+1)+" đến #"+t._s(t.to)+" trên tổng số "+t._s(t.total))])]),a("div",{staticClass:"col-sm-4"},[a("p-pagination",{staticClass:"pull-right",attrs:{"per-page":t.pagination.perPage,total:t.pagination.total},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1)])},n=[],s=(a("a481"),a("20d6"),a("7f7f"),a("6762"),a("2fdb"),a("6b54"),a("ac4d"),a("8a81"),a("ac6a"),a("be94")),l=(a("bd49"),a("450d"),a("18ff")),i=a.n(l),o=(a("960d"),a("defb")),c=a.n(o),u=(a("1951"),a("eedf")),_=a.n(u),d=(a("cb70"),a("b370")),p=a.n(d),f=(a("6611"),a("e772")),h=a.n(f),m=(a("1f1a"),a("4e4b")),b=a.n(m),v=(a("5466"),a("ecdf")),g=a.n(v),y=(a("38a0"),a("ad41")),O=a.n(y),C=(a("cadf"),a("551c"),a("097d"),a("1317")),w=a("eef9"),E=a("2f62"),k={props:["actions","actionsTable","columnDefs","dataRows","noSort"],components:{ElTable:O.a,ElTableColumn:g.a,ElSelect:b.a,ElOption:h.a,ElDropdown:p.a,ElButton:_.a,ElDropdownMenu:c.a,ElDropdownItem:i.a,PPagination:w["a"],Badge:C["a"]},computed:Object(s["a"])({},Object(E["b"])({pageTitle:"pageTitle"}),{pagedData:function(){return this.tableData.slice(this.from,this.to)},tableData:function(){return this.dataRows},width:function(){var t=0;return this.actions&&this.actions.length&&(t=Math.max(45*this.actions.length+20,90)),{action:t}},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var e=this.tableData.filter(function(e){var a=!1,r=!0,n=!1,s=void 0;try{for(var l,i=t.propsToSearch[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var o=l.value,c=e[o].toString();c.includes&&c.includes(t.searchQuery)&&(a=!0)}}catch(u){n=!0,s=u}finally{try{r||null==i.return||i.return()}finally{if(n)throw s}}return a});return this.pagination.total=e.length,e.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length},checkSelect:function(){return this.multipleSelection.length},checkAction:function(){return!!this.actionsTable&&this.actionsTable.length},host:function(){return window.BASE_URL},checkSort:function(){return!this.noSort&&"custom"}}),data:function(){return{pagination:{perPage:10,currentPage:1,perPageOptions:[5,10,25,50],total:0},searchQuery:"",propsToSearch:this.columnDefs.map(function(t){return t.prop}),tableColumns:this.columnDefs,multipleSelection:[],dwStyle:{left:0,width:0}}},mounted:function(){window["TBL"]=this},methods:{parseStatus:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(t){case"new":return"Mới";case"confirm":return"Đã xác nhận";case"done":return"Hoàn thành";case"cancel":return"Hủy";case"return":return"Hoàn trả";case"draft":return"Nháp";case"active":return"Đang hiện";case"inactive":return"Đang ẩn";case"expried":return"Hết hạn";case 0:return"payment_status"==e?"Chưa thanh toán":"shipping_status"==e?"Chưa giao":"Chưa phản hồi";case 1:return"payment_status"==e?"Đã thanh toán":"shipping_status"==e?"Đang giao":"Đã phản hồi";case 2:if("shipping_status"==e)return"Đã giao";default:return t}return""},parseType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(t){case"new":return"primary";case"confirm":return"info";case"done":return"success";case"cancel":return"danger";case"return":return"danger";case"draft":return"default";case"active":return"info";case"inactive":return"warning";case"expried":return"danger";case 0:return"shipping_status"==e?"danger":"warning";case 1:return"shipping_status"==e?"warning":"info";case 2:return"info";default:return""}return""},handleLike:function(t,e){alert("Your want to like ".concat(e.name))},handleEdit:function(t,e){alert("Your want to edit ".concat(e.name))},handleDelete:function(t,e){var a=this.tableData.findIndex(function(t){return t.id===e.id});a>=0&&this.tableData.splice(a,1)},formatNumber:function(t){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},handleSelectionChange:function(t){this.multipleSelection=t;var e=this.$el.getElementsByClassName("el-table")[0],a=e.getElementsByTagName("table")[0],r=a.getElementsByTagName("th"),n=r[0].offsetWidth,s=r[1].offsetWidth+r[2].offsetWidth;this.dwStyle.left=n+15+5+"px",this.dwStyle.width=s-10+"px"},sortChange:function(t,e,a){this.$emit("sortChange",t)},updateColumns:function(t){this.tableColumns=t}}},D=k,P=(a("48ea"),a("b6d4"),a("2877")),M=Object(P["a"])(D,r,n,!1,null,null,null);M.options.__file="Table.vue";e["a"]=M.exports},"3e57":function(t,e,a){},"48dd":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__),_Volumes_Data_Project_flexbox_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("be94"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("f751"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac4d"),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("8a81"),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_10__),lodash__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);__webpack_exports__["a"]={buildRules:function(t){var e=[],a=!0,r=!1,n=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var i=s.value;if(!i.ignoreSearch&&"image"!==i.type){var o={name:i.label||i.name,value:i.prop,type:i.type};switch(i.type){case"text":o=Object.assign(o,{ops:[{name:"có chứa",value:"&="},{name:"không chứa",value:"!="},{name:"bằng",value:"=="}]});break;case"number":o=Object.assign(o,{ops:[{name:"lớn hơn",value:">"},{name:"lớn hơn hoặc bằng",value:">="},{name:"nhỏ hơn",value:"<"},{name:"nhỏ hơn hoặc bằng",value:"<="},{name:"bằng",value:"=="}]});break;case"select":o=Object.assign(o,{ops:[{name:"bằng",value:"=="}],values:i.options});break}e.push(o)}}}catch(c){r=!0,n=c}finally{try{a||null==l.return||l.return()}finally{if(r)throw n}}return e},buildColumDefs:function(t){return t.map(function(t){var e=Object.assign({},t);return"select"==e.type&&"role"!=e.prop&&(e.type="badge"),e})},buildInitFields:function(t,e){var a=t.map(function(t){return Object(_Volumes_Data_Project_flexbox_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__["a"])({},t,{active:lodash__WEBPACK_IMPORTED_MODULE_11___default.a.includes(e,t.prop),type:"select"==t.type&&"role"!=t.prop?"badge":t.type})});return a},filterByRules:function filterByRules(rows,rules){if(rules.length){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _loop=function _loop(){var rule=_step2.value;rows=rows.filter(function(row){if("number"===rule.type){var equation="row."+rule.filter+rule.ope+rule.value,fs=eval(equation);return fs}if("text"===rule.type||"select"===rule.type){var cellFilter=row[rule.filter];if("&="===rule.ope){var _fs=cellFilter.toLowerCase().indexOf(rule.value.toLowerCase())>-1;return _fs}if("!="===rule.ope){var _fs2=-1==cellFilter.toLowerCase().indexOf(rule.value.toLowerCase());return _fs2}var _fs3=cellFilter.toLowerCase()==rule.value.toLowerCase();return _fs3}return!0})},_iterator2=rules[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop()}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return rows},buildQueryString:function(t){var e="",a=[];if(t.length){var r=!0,n=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var o=l.value;"&="==o.ope&&(o.ope="**"),a.push("".concat(o.filter).concat(o.ope).concat(o.value))}}catch(c){n=!0,s=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw s}}e=a.join("&")}return e}}},"48ea":function(t,e,a){"use strict";var r=a("c797"),n=a.n(r);n.a},"535c":function(t,e,a){},"560a":function(t,e,a){"use strict";var r=a("3e57"),n=a.n(r);n.a},5953:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-xs-12 filter-group p-l-15"},[a("div",{staticClass:"row d-none d-sm-none d-md-none d-lg-flex"},[a("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 filter-col"},[a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},model:{value:t.currentFilter,callback:function(e){t.currentFilter=e},expression:"currentFilter"}},t._l(t.rules,function(t,e){return a("el-option",{key:t.value,attrs:{label:t.name,value:t}})}))],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 filter-col"},[t.currentFilter?a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},model:{value:t.currentOpe,callback:function(e){t.currentOpe=e},expression:"currentOpe"}},t._l(t.currentFilter.ops,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t}})})):t._e()],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 filter-col"},["select"===t.currentFilter.type?a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addFilter(e):null}},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}},t._l(t.filterValues,function(t){return a("el-option",{key:t.value,attrs:{label:t.title,value:t}})})):t._e(),"select"!==t.currentFilter.type?a("el-input",{ref:"saveTagInput",staticClass:"full-width",attrs:{type:"number"==t.currentFilter.type?"number":"text",placeholder:"Nhập giá trị"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addFilter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e()],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 filter-col"},[a("p-button",{staticClass:"full-width",on:{click:t.addFilter}},[a("i",{staticClass:"fa fa-plus"}),t._v("\n           Thêm Điều kiện\n        ")])],1)]),a("div",{staticClass:"d-flex d-sm-flex d-md-flex d-lg-none d-xl-none m-t-4"},[a("el-button",{staticClass:"full-width",attrs:{type:"primary"},on:{click:function(e){t.modal.display=!0}}},[a("i",{staticClass:"fa fa-plus"}),t._v("\n        Bộ lọc\n      ")])],1)]),t.tags.length>0?a("div",{staticClass:"col-xs-12"},t._l(t.tags,function(e){return a("el-tag",{key:e.name+e.ope+e.value,attrs:{closable:"",type:"filter"},on:{close:function(a){t.handleClose(e)}}},[a("b",[t._v(t._s(e.name))]),t._v("\n        "+t._s(e.ope)+"\n        "),a("span",{staticClass:"value"},[t._v(t._s("number"==e.type?t.$util.formatMoney(e.value):'"'+e.value+'"'))])])})):t._e(),a("modal",{attrs:{show:t.modal.display,headerClasses:"justify-content-center"},on:{"update:show":function(e){t.$set(t.modal,"display",e)}}},[a("h4",{staticClass:"title title-up m-0",attrs:{slot:"header"},slot:"header"},[t._v("Thêm bộ lọc")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 m-b-5"},[a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},model:{value:t.currentFilter,callback:function(e){t.currentFilter=e},expression:"currentFilter"}},t._l(t.rules,function(t,e){return a("el-option",{key:t.value,attrs:{label:t.name,value:t}})}))],1),a("div",{staticClass:"col-sm-12 m-b-5"},[t.currentFilter?a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},model:{value:t.currentOpe,callback:function(e){t.currentOpe=e},expression:"currentOpe"}},t._l(t.currentFilter.ops,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t}})})):t._e()],1),a("div",{staticClass:"col-sm-12 m-b-5"},["select"===t.currentFilter.type?a("el-select",{staticClass:"full-width",attrs:{"default-first-option":""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addFilter(e):null}},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}},t._l(t.filterValues,function(t){return a("el-option",{key:t.value,attrs:{label:t.title,value:t}})})):t._e(),"select"!==t.currentFilter.type?a("el-input",{ref:"saveTagInput",staticClass:"full-width",attrs:{type:"number"==t.currentFilter.type?"number":"text",placeholder:"Nhập giá trị"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addFilter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e()],1)]),a("div",{staticClass:"text-right"},[a("p-button",{nativeOn:{click:function(e){t.modal.display=!1}}},[t._v("Hủy bỏ")]),a("p-button",{attrs:{type:"primary"},on:{click:t.addFilter}},[t._v("Xác nhận")])],1)])],1)},n=[],s=(a("7f7f"),a("0fb7"),a("450d"),a("f529")),l=a.n(s),i=(a("ac6a"),a("10cb"),a("f3ad")),o=a.n(i),c=(a("cbb5"),a("8bbc")),u=a.n(c),_=(a("1951"),a("eedf")),d=a.n(_),p=(a("6611"),a("e772")),f=a.n(p),h=(a("1f1a"),a("4e4b")),m=a.n(h),b=a("1c50"),v={components:{ElSelect:m.a,ElOption:f.a,ElButton:d.a,ElTag:u.a,ElInput:o.a,Modal:b["a"]},props:["rules"],data:function(){return{currentOpe:{},selectedOption:{},currentFilter:{},filterValues:[],tags:[],inputValue:"",output:[],modal:{display:!1}}},computed:{currentValue:function(){return"select"===this.currentFilter.type?this.selectedOption.value:this.inputValue},currentLabel:function(){return"select"===this.currentFilter.type?this.selectedOption.title:this.inputValue}},watch:{currentFilter:function(t,e){"select"===t.type?(this.filterValues=t.values,this.selectedOption=t.values[0]):this.filterValues=[],this.currentOpe=t.ops[0]}},methods:{handleClose:function(t){var e=this.tags.indexOf(t);this.tags.splice(e,1),this.output.splice(e,1),this.$emit("filter-change",this.output)},addFilter:function(){var t=this;if(this.currentLabel){var e={filter:this.currentFilter.value,type:this.currentFilter.type,name:this.currentFilter.name,ope:this.currentOpe.name,opeValue:this.currentOpe.value,value:this.currentLabel};e.key=e.name+e.ope+e.value,this.tags=this.tags.filter(function(t){return t.name!=e.name}),this.output=this.output.filter(function(e){return e.filter!=t.currentFilter.value});var a={filter:this.currentFilter.value,ope:this.currentOpe.value,value:this.currentValue,type:this.currentFilter.type};this.output.push(a),this.tags.push(e),this.$emit("filter-change",this.output),this.selectedOption="",this.inputValue=""}else l()({message:"Vui lòng nhập giá trị lọc",type:"error"})}},mounted:function(){this.currentFilter=this.rules[0]}},g=v,y=(a("e4ce"),a("2877")),O=Object(y["a"])(g,r,n,!1,null,null,null);O.options.__file="Filter.vue";e["a"]=O.exports},"99d5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12 card p-0"},[r("div",{staticClass:"card-body p-0"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-9 col-md-6 col-sm-6 col-6"},[r("my-filter",{attrs:{rules:e.rules},on:{"filter-change":e.updateFilter}})],1),r("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 col-6"},[r("column-toggle",{on:{input:function(e){return t.$refs["table"].updateColumns(e)}},model:{value:e.columnDefs,callback:function(t){e.columnDefs=t},expression:"columnDefs"}})],1)]),r("div",{staticClass:"col-sm-12 p-0"},[r("my-table",{ref:"table",attrs:{columnDefs:e.columnDefs,"data-rows":e.orders,actions:e.actions,actionsTable:e.actionsTable},on:{sortChange:e.sortChange}})],1)])])])},n=[],s=(a("ac4d"),a("8a81"),a("ac6a"),a("0fb7"),a("450d"),a("f529")),l=a.n(s),i=(a("9e1f"),a("6ed5")),o=a.n(i),c=a("324d"),u=a("5953"),_=[{prop:"id",label:"Mã",minWidth:120,type:"number",link:"/orders"},{prop:"name",label:"Khách hàng",minWidth:120,type:"text"},{prop:"order_status",label:"Trạng thái",minWidth:120,ignoreSearch:!0,type:"select",options:[{value:"new",title:"Mới"},{value:"confirm",title:"Xác nhận"},{value:"done",title:"Hoàn tất"},{value:"cancel",title:"Hủy"},{value:"draft",title:"Nháp"},{value:"return",title:"Hoàn trả"}]},{prop:"total",label:"Tổng tiền",minWidth:120,type:"number"},{prop:"created_at",label:"Ngày tạo",minWidth:120,type:"text",ignoreSearch:!0}],d=a("48dd"),p=a("1175"),f={components:{MyTable:c["a"],MyFilter:u["a"],ColumnToggle:p["a"]},computed:{orders:function(){return this.$store.state.ordersDraft}},data:function(){var t=["id","name","order_status","payment_status","shipping_status","total","created_at"],e=d["a"].buildInitFields(_,t);return{filterOutput:[],columnDefs:e,actions:[{type:"primary",icon:"nc-icon nc-ruler-pencil",callback:this.edit}],filter:{},rules:d["a"].buildRules(_),actionsTable:[{title:"Mới",callback:this.statusOrderNew},{title:"Đã xác nhận",callback:this.statusOrderConfirm},{title:"Chưa thanh toán",callback:this.statusPaymentNew},{title:"Đã thanh toán chưa gửi hàng",callback:this.statusPaymentDone},{title:"Hoàn tất",callback:this.statusOrderDone},{title:"Bị hoàn trả",callback:this.statusOrderReturn},{title:"Bị hủy",callback:this.statusOrderCancel},{title:"Nháp",callback:this.statusOrderDraft}]}},mounted:function(){this.$store.dispatch("fetchOrdersDraft"),this.$store.dispatch("setPageTitle","đơn hàng nháp"),this.$store.dispatch("setCurrentActions",[{label:"Tạo đơn hàng",type:"primary",icon:"",callback:this.createOrder}])},methods:{updateFilter:function(t){var e=d["a"].buildQueryString(t);this.$store.dispatch("fetchOrdersDraft",{filterString:e})},sortChange:function(t){var e=t.prop,a="ascending"==t.order?"asc":"desc";this.$store.dispatch("fetchOrdersDraft",{order:e+"="+a})},createOrder:function(){this.$router.push("/orders/create")},edit:function(t,e){this.$router.push("/orders/"+e.id)},statusOrderNew:function(t){this.updateOrderStatus(t,"new","order")},statusOrderConfirm:function(t){this.updateOrderStatus(t,"confirm","order")},statusOrderDone:function(t){this.updateOrderStatus(t,"done","order")},statusOrderReturn:function(t){this.updateOrderStatus(t,"return","order")},statusOrderCancel:function(t){this.updateOrderStatus(t,"cancel","order")},statusOrderDraft:function(t){this.updateOrderStatus(t,"draft","order")},statusPaymentNew:function(t){this.updateOrderStatus(t,0,"payment")},statusPaymentDone:function(t){this.updateOrderStatus(t,1,"payment")},updateOrderStatus:function(t,e,a){var r=this;o.a.confirm("Bạn có chắc chắn đổi trạng thái đơn hàng không?","Warning",{confirmButtonText:"Đồng ý",cancelButtonText:"Hủy bỏ",type:"warning",center:!0}).then(function(){var n=r,s=[],i=!0,o=!1,c=void 0;try{for(var u,_=t[Symbol.iterator]();!(i=(u=_.next()).done);i=!0){var d=u.value;s.push(d.id)}}catch(f){o=!0,c=f}finally{try{i||null==_.return||_.return()}finally{if(o)throw c}}var p={arrId:s,status:e};"order"==a?r.$store.dispatch("updateStatusOrder",p).then(function(t){n.$store.dispatch("fetchOrdersDraft"),l()({type:"success",message:"Cập nhật thành công"})}).catch(function(t){l()({type:"error",message:t.message})}):r.$store.dispatch("updateStatusPayment",p).then(function(t){n.$store.dispatch("fetchOrdersDraft"),l()({type:"success",message:"Cập nhật thành công"})}).catch(function(t){l()({type:"error",message:t.message})})})}},destroyed:function(){this.$store.dispatch("setCurrentActions",[])}},h=f,m=(a("560a"),a("2877")),b=Object(m["a"])(h,r,n,!1,null,null,null);b.options.__file="Draft-Orders.vue";e["default"]=b.exports},b6d4:function(t,e,a){"use strict";var r=a("535c"),n=a.n(r);n.a},c797:function(t,e,a){},cbb5:function(t,e,a){},e4ce:function(t,e,a){"use strict";var r=a("2540"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-f74e0d62.d88542c1.js.map